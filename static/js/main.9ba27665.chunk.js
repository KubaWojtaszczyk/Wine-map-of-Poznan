(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{51:function(e,t,a){e.exports=a.p+"static/media/fb.7f29868f.png"},52:function(e,t,a){e.exports=a.p+"static/media/google.f1677fb3.png"},53:function(e,t,a){e.exports=a.p+"static/media/insta.5eb5d6d4.png"},58:function(e,t,a){e.exports=a(91)},63:function(e,t,a){},69:function(e,t,a){},91:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),l=a(16),r=a.n(l),c=(a(63),a(65),a(67),a(69),a(20)),o=a(21),s=a(27),m=a(22),u=a(28),p=a(8),d=a.n(p),h=a(94),f=a(97),g=a(95),E=a(96),b=a(42),w=a.n(b);w.a.initializeApp({apiKey:"AIzaSyBvgxV1oiT8LPn4UAwofr2dF5feuRetEZw",authDomain:"wine-map-of-poznan.firebaseapp.com",databaseURL:"https://wine-map-of-poznan.firebaseio.com",projectId:"wine-map-of-poznan",storageBucket:"wine-map-of-poznan.appspot.com",messagingSenderId:"1056000917767"});var y=w.a.firestore();y.settings({timestampsInSnapshots:!0});w.a;var v=a(44),k=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).handleRating=function(e,t){a.setState({counter:Number(t)},function(){a.props.callback(a.props.id,a.state.counter)})},a.state={counter:0},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",null,[1,2,3,4,5].map(function(t){return i.a.createElement("span",{style:{fontSize:"40px",paddingRight:"5px"},onClick:function(a){e.handleRating(a,t)}},i.a.createElement("i",{className:"fa ".concat(t<=e.state.counter?"fa-wine-glass":"fa-wine-glass-alt")}))}))}}]),t}(i.a.Component),x=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).state={place:!1},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return this.props.winery?i.a.createElement("section",{className:"containerBox"},i.a.createElement("div",{className:"nameDiv"},i.a.createElement("h3",null,this.props.winery.name)," ",i.a.createElement("br",null),i.a.createElement("span",null,this.props.winery.address)," ",i.a.createElement("br",null),i.a.createElement("span",null,this.props.winery.phone)," ",i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("span",null,this.props.winery.openingHours.map(function(e){return i.a.createElement("span",null,e," ",i.a.createElement("br",null)," ")}))," ",i.a.createElement("br",null)),i.a.createElement("div",{className:"rankPlaceDiv"},i.a.createElement("h3",null,"Rank this place!")," ",i.a.createElement("br",null),i.a.createElement(k,{callback:this.props.updateRating,id:this.props.winery.id})),i.a.createElement("div",{className:"wineRankDiv"},i.a.createElement("h3",null,"Wine of the week"),i.a.createElement("div",{className:"bottle",style:{width:"120px",height:"120px"}}),i.a.createElement("div",{style:{fontSize:"16px"}},this.props.winery.wineName)," ",i.a.createElement("br",null),i.a.createElement("p",{style:{fontSize:"16px",fontWeight:"bold"}},"Did you like the wine?"),i.a.createElement(k,{style:{paddingBottom:"20px"},callback:this.props.updateWine,id:this.props.winery.id}))):null}}]),t}(i.a.Component),N=a(51),O=a.n(N),z=a(52),j=a.n(z),R=a(53),S=a.n(R),D=(a(85),d.a.icon({iconUrl:"https://unpkg.com/leaflet@1.3.4/dist/images/marker-icon.png",iconSize:[25,41],iconAnchor:[22,94],popupAnchor:[-10,-90]})),A=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).updateRating=function(e,t){var n=a.state.data,i=n.findIndex(function(t){return t.id===e});n[i].rating=t,a.setState({data:n})},a.updateWine=function(e,t){var n=a.state.data,i=n.findIndex(function(t){return t.id===e});n[i].wineRating=t,a.setState({data:n})},a.toggleHidden=function(e,t){var n=a.state.data.filter(function(e){return e.id===t});a.setState({isHidden:!a.state.isHidden,place:n[0]})},a.state={lat:52.4033437,lng:16.9166729,zoom:13,data:!1,isHidden:!0,place:null},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=[];y.collection("winery").get().then(function(a){a.forEach(function(e){t.push(e.data())}),e.setState({data:t}),console.log(e.state.data),console.log(e.state.data[0]),console.log(e.state.data[1]),console.log(e.state.data[2])})}},{key:"render",value:function(){var e=this;if(!1===this.state.data)return null;var t=[this.state.lat,this.state.lng],a=this.state.data.map(function(t){var a=[t.lat,t.lng];return i.a.createElement(h.a,{position:a,icon:D},i.a.createElement(f.a,null,i.a.createElement("ul",{style:{margin:"0",padding:"0"},className:"winery"},i.a.createElement("li",{style:{textAlign:"center",textWeight:"bold",paddingBottom:"5px",fontWeight:"bold",color:"#104F2F"},key:t.id}," check this place!")),i.a.createElement(v.a,{style:{textAlign:"center",outline:"none",textDecoration:"none",color:"white",fontSize:"20px",backgroundColor:"#722D4A",borderRadius:"10%"},onClick:function(a){return e.toggleHidden(a,t.id)}},t.name)))});return i.a.createElement("section",{className:"sectionMain"},i.a.createElement("header",null,"Wine map of Poznan"),i.a.createElement("div",{className:"divMain"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"column"},i.a.createElement("div",{style:{paddingTop:"30px"}},i.a.createElement("div",{className:"roundPhoto"}),i.a.createElement("h2",{className:"title"},"DISCOVER ",i.a.createElement("br",null)," YOUR PLACE")," ",i.a.createElement("br",null),i.a.createElement("div",{style:{paddingBottom:"140px"},className:"storyContent"},"Tasting wine is like an adventure.",i.a.createElement("br",null),"Different grapes, colors, climate, ",i.a.createElement("br",null),"fermentation methods and finally - ",i.a.createElement("br",null),"different brands and producing regions. ",i.a.createElement("br",null),i.a.createElement("br",null),"You can taste almost all wines in Poznan. ",i.a.createElement("br",null),"Just check the map ",i.a.createElement("br",null),"and find the best wine places ",i.a.createElement("br",null),"in your neighbourhood. ",i.a.createElement("br",null))),i.a.createElement("div",{style:{marginLeft:"auto",marginRight:"auto"}},i.a.createElement("a",{style:{textDecoration:"none"},href:"/",target:"_blank"}," ",i.a.createElement("img",{src:O.a,width:"100",height:"100"})," "),i.a.createElement("a",{style:{textDecoration:"none"},href:"/",target:"_blank"}," ",i.a.createElement("img",{src:S.a,width:"100",height:"100"})," "),i.a.createElement("a",{style:{textDecoration:"none"},href:"/",target:"_blank"}," ",i.a.createElement("img",{src:j.a,width:"100",height:"100"})," "))),i.a.createElement("div",{className:"column"},i.a.createElement(g.a,{className:"map",center:t,zoom:this.state.zoom},i.a.createElement(E.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),a)),i.a.createElement("div",{className:"column"},i.a.createElement(x,{className:"child",show:!this.state.isHidden,winery:this.state.place,updateRating:this.updateRating,updateWine:this.updateWine})))))}}]),t}(i.a.Component);r.a.render(i.a.createElement(A,null),document.getElementById("root"))}},[[58,2,1]]]);
//# sourceMappingURL=main.9ba27665.chunk.js.map